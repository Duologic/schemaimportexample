{
  "$id": "https://example.com/schemas/customer",
  "properties": {
    "asl": {
      "items": false,
      "prefixItems": [
        {
          "$anchor": "age",
          "type": "number"
        },
        {
          "$anchor": "sex",
          "enum": [
            "m",
            "f"
          ],
          "maxLength": 1,
          "type": "string"
        },
        {
          "$anchor": "location",
          "$ref": "/schema/address"
        }
      ],
      "type": "array"
    },
    "billing_address": {
      "$ref": "/schemas/address"
    },
    "deleted": {
      "default": false,
      "type": "boolean"
    },
    "discount": {
      "const": "10%"
    },
    "first_name": {
      "type": "string"
    },
    "last_name": {
      "type": "string"
    },
    "shipping_address": {
      "$ref": "/schemas/address"
    },
    "store": {
      "items": {
        "properties": {
          "location": {
            "$ref": "/schemas/address"
          },
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "type": "array"
    },
    "tt": {
      "anyOf": [
        {
          "$ref": "/schemas/address"
        },
        {
          "$anchor": "age",
          "type": "number"
        }
      ]
    }
  },
  "required": [
    "first_name",
    "last_name",
    "shipping_address",
    "billing_address"
  ],
  "type": "object"
}

